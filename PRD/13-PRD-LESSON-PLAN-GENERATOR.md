# PRD 13: Gerador de Planos de Aula com BNCC

## 1. VisÃ£o Geral

### 1.1 O que Ã©?
Ferramenta guiada para criar planos de aula alinhados Ã  BNCC em poucos minutos. A professora responde perguntas simples, seleciona habilidades da BNCC, e o sistema gera um plano estruturado com exportaÃ§Ã£o para Word e PDF.

### 1.2 Por que fazer?
- **Dor real**: Criar plano de aula Ã© demorado e repetitivo
- **Diferencial**: Alinhamento auditÃ¡vel com BNCC (coordenador aprova)
- **RetenÃ§Ã£o**: Motivo para usar o app toda semana
- **Valor percebido**: Feature premium que justifica assinatura

### 1.3 PÃºblico-alvo
- Professoras da EducaÃ§Ã£o BÃ¡sica
- **Perfil**: Baixa familiaridade com tecnologia, preferem interfaces simples
- **Contexto**: Precisam entregar planos para coordenaÃ§Ã£o, tÃªm pouco tempo

---

## 2. Regras de NegÃ³cio

### 2.1 Acesso
- **Apenas assinantes** podem usar
- UsuÃ¡rios free veem a feature bloqueada (upsell)

### 2.2 Limites

| Recurso | Limite |
|---------|--------|
| Planos por mÃªs | 15 |
| Habilidades BNCC por plano | 1-3 |
| HistÃ³rico salvo | Ãšltimos 20 planos |

### 2.3 Custo de IA estimado

**Modelo:** `gpt-4o-mini` (melhor custo-benefÃ­cio)

**PreÃ§os (OpenAI, janeiro 2026):**
- Input: $0.150 / 1M tokens
- Output: $0.600 / 1M tokens

**Estimativa por plano:**

| Componente | Tokens | CÃ¡lculo | Custo |
|------------|--------|---------|-------|
| **Input** (system + user prompt) | ~1.000 | 1.000 Ã— $0.150/1M | $0.00015 |
| **Output** (plano completo JSON) | ~2.000 | 2.000 Ã— $0.600/1M | $0.00120 |
| **Total por plano** | ~3.000 | | **$0.00135** |

**ProjeÃ§Ãµes mensais:**

| CenÃ¡rio | Assinantes | Planos/usuÃ¡rio | Total planos | Custo total |
|---------|------------|----------------|--------------|-------------|
| **Conservador** | 500 | 8 | 4.000 | **~$5.40** |
| **Moderado** | 1.000 | 10 | 10.000 | **~$13.50** |
| **Otimista** | 2.000 | 12 | 24.000 | **~$32.40** |

**ObservaÃ§Ãµes:**
- Custo marginal **desprezÃ­vel** (~$0.0014/plano)
- Limite de 15/mÃªs previne abuso
- NÃ£o inclui custos de infraestrutura (Vercel/banco)

---

## 3. Estrutura do Plano de Aula

Baseado no padrÃ£o BNCC nacional:

| SeÃ§Ã£o | DescriÃ§Ã£o | Origem |
|-------|-----------|--------|
| **IdentificaÃ§Ã£o** | TÃ­tulo, ano, disciplina, duraÃ§Ã£o | Wizard |
| **Habilidades BNCC** | CÃ³digos e descriÃ§Ãµes | Professora seleciona |
| **Objetivos** | O que alunos devem aprender | IA gera |
| **ConteÃºdo** | Tema central da aula | Professora informa |
| **Metodologia** | Etapas da aula com tempo | IA gera |
| **Recursos** | Materiais necessÃ¡rios | IA gera |
| **AvaliaÃ§Ã£o** | Como verificar aprendizagem | IA gera |

---

## 4. UI/UX Design

### 4.1 PrincÃ­pios (dado perfil do usuÃ¡rio)

```
âœ… FAZER                           âŒ EVITAR
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Uma pergunta por tela              FormulÃ¡rios longos
BotÃµes grandes e claros            Muitas opÃ§Ãµes juntas
SeleÃ§Ã£o visual (cards/chips)       Campos de texto livre
Linguagem simples                  Termos tÃ©cnicos
Progresso visÃ­vel                  Passos indefinidos
Feedback imediato                  AÃ§Ãµes sem confirmaÃ§Ã£o
```

### 4.2 Tela Principal - Com Planos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â†  Planos de Aula                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  VocÃª criou 3 de 15 planos este mÃªs     â”‚
â”‚  â”â”â”â”â”â”â”â”â”â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  + Criar Novo Plano             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“š SEUS PLANOS                         â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ“ FraÃ§Ãµes                     â”‚    â”‚
â”‚  â”‚  3Âº Ano Â· MatemÃ¡tica            â”‚    â”‚
â”‚  â”‚  15 de janeiro                  â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚  [ğŸ“„ Word]  [ğŸ“‘ PDF]            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ“ Sistema Solar               â”‚    â”‚
â”‚  â”‚  4Âº Ano Â· CiÃªncias              â”‚    â”‚
â”‚  â”‚  12 de janeiro                  â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚  [ğŸ“„ Word]  [ğŸ“‘ PDF]            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ“ Leitura e InterpretaÃ§Ã£o     â”‚    â”‚
â”‚  â”‚  2Âº Ano Â· PortuguÃªs             â”‚    â”‚
â”‚  â”‚  8 de janeiro                   â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚  [ğŸ“„ Word]  [ğŸ“‘ PDF]            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Tela Principal - Empty State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â†  Planos de Aula                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚              â”‚   ğŸ“    â”‚                â”‚
â”‚              â”‚   âœ¨    â”‚                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                         â”‚
â”‚      Crie seu primeiro plano de aula    â”‚
â”‚                                         â”‚
â”‚      Responda algumas perguntas e       â”‚
â”‚      tenha um plano completo em         â”‚
â”‚      minutos, alinhado Ã  BNCC!          â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚     Criar Meu Primeiro Plano    â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚      15 planos disponÃ­veis este mÃªs     â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.4 Wizard de CriaÃ§Ã£o (4 Etapas)

**âš ï¸ IMPORTANTE: BIFURCAÃ‡ÃƒO EI vs EF**

O wizard tem **dois fluxos diferentes** apÃ³s a seleÃ§Ã£o da etapa:

| Etapa de Ensino | Etapa 1 | Campos |
|-----------------|---------|--------|
| **EducaÃ§Ã£o Infantil (EI)** | Faixa EtÃ¡ria + Campo de ExperiÃªncia | âŒ NÃ£o usa "ano"<br>âŒ NÃ£o usa "disciplina" |
| **Ensino Fundamental (EF)** | Ano + Disciplina | âœ… Usa ano (1Âº ao 9Âº)<br>âœ… Usa disciplina (MatemÃ¡tica, etc) |

---

**ETAPA 1: SELEÃ‡ÃƒO DE ETAPA DE ENSINO**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ•  Novo Plano                   1 de 4 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â— â”â”â”â”â”â”â”â” â—‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€ â—‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€ â—‹   â”‚
â”‚  Turma      Tema       BNCC      Gerar  â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  Para qual etapa de ensino?             â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ’’                              â”‚    â”‚
â”‚  â”‚  EducaÃ§Ã£o Infantil              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ“š                     âœ“       â”‚    â”‚
â”‚  â”‚  Fundamental - Anos Iniciais    â”‚    â”‚
â”‚  â”‚  (1Âº ao 5Âº ano)                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ“–                              â”‚    â”‚
â”‚  â”‚  Fundamental - Anos Finais      â”‚    â”‚
â”‚  â”‚  (6Âº ao 9Âº ano)                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ“                              â”‚    â”‚
â”‚  â”‚  Ensino MÃ©dio                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚          Continuar â†’            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ETAPA 1A (se selecionou EI): FAIXA ETÃRIA + CAMPO DE EXPERIÃŠNCIA**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ•  Novo Plano                   1 de 4 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â— â”â”â”â”â”â”â”â” â—‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€ â—‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€ â—‹   â”‚
â”‚  Turma      Tema       BNCC      Gerar  â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  âœ“ EducaÃ§Ã£o Infantil                    â”‚
â”‚                                         â”‚
â”‚  Qual faixa etÃ¡ria?                     â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ‘¶                              â”‚    â”‚
â”‚  â”‚  BebÃªs                           â”‚    â”‚
â”‚  â”‚  (zero a 1 ano e 6 meses)        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ§’                              â”‚    â”‚
â”‚  â”‚  CrianÃ§as bem pequenas           â”‚    â”‚
â”‚  â”‚  (1 ano e 7 meses a 3 anos       â”‚    â”‚
â”‚  â”‚   e 11 meses)                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ‘¦                     âœ“        â”‚    â”‚
â”‚  â”‚  CrianÃ§as pequenas               â”‚    â”‚
â”‚  â”‚  (4 anos a 5 anos e 11 meses)    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  Qual campo de experiÃªncia?             â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ‘¥                               â”‚    â”‚
â”‚  â”‚ O eu, o outro e o nÃ³s            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ¤¸                               â”‚    â”‚
â”‚  â”‚ Corpo, gestos e movimentos       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ¨                      âœ“        â”‚    â”‚
â”‚  â”‚ TraÃ§os, sons, cores e formas     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ’­                               â”‚    â”‚
â”‚  â”‚ Escuta, fala, pensamento e       â”‚    â”‚
â”‚  â”‚ imaginaÃ§Ã£o                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ”¢                               â”‚    â”‚
â”‚  â”‚ EspaÃ§os, tempos, quantidades,    â”‚    â”‚
â”‚  â”‚ relaÃ§Ãµes e transformaÃ§Ãµes        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â† Voltar â”‚ â”‚    Continuar â†’      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ETAPA 1B (se selecionou EF): ANO + DISCIPLINA**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ•  Novo Plano                   1 de 4 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â— â”â”â”â”â”â”â”â” â—‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€ â—‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€ â—‹   â”‚
â”‚  Turma      Tema       BNCC      Gerar  â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  âœ“ Fundamental - Anos Iniciais          â”‚
â”‚                                         â”‚
â”‚  Qual ano?                              â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ 1Âº  â”‚ â”‚ 2Âº  â”‚ â”‚ 3Âº  â”‚ â”‚ 4Âº  â”‚ â”‚ 5Âº  â”‚â”‚
â”‚  â”‚     â”‚ â”‚     â”‚ â”‚  âœ“  â”‚ â”‚     â”‚ â”‚     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚
â”‚  Qual disciplina?                       â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ ğŸ”¤        â”‚ â”‚ ğŸ”¢        â”‚            â”‚
â”‚  â”‚ PortuguÃªs â”‚ â”‚ MatemÃ¡ticaâ”‚            â”‚
â”‚  â”‚           â”‚ â”‚     âœ“     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ ğŸ”¬        â”‚ â”‚ ğŸŒ        â”‚            â”‚
â”‚  â”‚ CiÃªncias  â”‚ â”‚ Geografia â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ ğŸ“œ        â”‚ â”‚ ğŸ¨        â”‚            â”‚
â”‚  â”‚ HistÃ³ria  â”‚ â”‚ Artes     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â† Voltar â”‚ â”‚    Continuar â†’      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ETAPA 2: TEMA**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ•  Novo Plano                   2 de 4 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â—‹ â”â”â”â”â”â”â”â” â— â”â”â”â”â”â”â”â”â” â—‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€ â—‹   â”‚
â”‚  Turma      Tema       BNCC      Gerar  â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  3Âº Ano Â· MatemÃ¡tica                    â”‚
â”‚                                         â”‚
â”‚  Qual o tema da aula?                   â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚ IntroduÃ§Ã£o Ã s fraÃ§Ãµes           â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  Ex: "FraÃ§Ãµes", "Sistema Solar"         â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  Quantas aulas?                         â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   1   â”‚ â”‚   2   â”‚ â”‚   3   â”‚          â”‚
â”‚  â”‚ aula  â”‚ â”‚ aulas â”‚ â”‚ aulas â”‚          â”‚
â”‚  â”‚       â”‚ â”‚   âœ“   â”‚ â”‚       â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                         â”‚
â”‚  DuraÃ§Ã£o de cada aula: 50 min           â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â† Voltar â”‚ â”‚    Continuar â†’      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ETAPA 3A (EI): SELEÃ‡ÃƒO DE HABILIDADES BNCC**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ•  Novo Plano                   3 de 4 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â—‹ â”â”â”â”â”â”â”â” â—‹ â”â”â”â”â”â”â”â”â” â— â”â”â”â”â”â”â”â”â” â—‹   â”‚
â”‚  Turma      Tema       BNCC      Gerar  â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  EI Â· CrianÃ§as pequenas                 â”‚
â”‚  TraÃ§os, sons, cores e formas           â”‚
â”‚                                         â”‚
â”‚  Selecione 1 a 3 habilidades BNCC       â”‚
â”‚                                         â”‚
â”‚  ğŸ” Buscar habilidade...                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â˜‘ï¸ EI03TS01                     â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚ Utilizar sons produzidos por    â”‚    â”‚
â”‚  â”‚ materiais, objetos e            â”‚    â”‚
â”‚  â”‚ instrumentos musicais durante   â”‚    â”‚
â”‚  â”‚ brincadeiras...                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â˜‘ï¸ EI03TS02                     â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚ Expressar-se livremente por     â”‚    â”‚
â”‚  â”‚ meio de desenho, pintura,       â”‚    â”‚
â”‚  â”‚ colagem, dobradura...           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â˜ EI03TS03                      â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚ Reconhecer as qualidades do     â”‚    â”‚
â”‚  â”‚ som (intensidade, duraÃ§Ã£o,      â”‚    â”‚
â”‚  â”‚ altura e timbre)...             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  2 de 3 selecionadas                    â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â† Voltar â”‚ â”‚    Continuar â†’      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ETAPA 3B (EF): SELEÃ‡ÃƒO DE HABILIDADES BNCC**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ•  Novo Plano                   3 de 4 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â—‹ â”â”â”â”â”â”â”â” â—‹ â”â”â”â”â”â”â”â”â” â— â”â”â”â”â”â”â”â”â” â—‹   â”‚
â”‚  Turma      Tema       BNCC      Gerar  â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  3Âº Ano Â· MatemÃ¡tica Â· FraÃ§Ãµes          â”‚
â”‚                                         â”‚
â”‚  Selecione 1 a 3 habilidades BNCC       â”‚
â”‚                                         â”‚
â”‚  ğŸ” Buscar habilidade...                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â˜‘ï¸ EF03MA09                     â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚ Associar o quociente de uma     â”‚    â”‚
â”‚  â”‚ divisÃ£o com resto zero de um    â”‚    â”‚
â”‚  â”‚ nÃºmero natural por 2, 3, 4, 5   â”‚    â”‚
â”‚  â”‚ e 10 Ã s ideias de metade,       â”‚    â”‚
â”‚  â”‚ terÃ§a parte, quarta parte...    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â˜‘ï¸ EF03MA10                     â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚ Identificar e representar       â”‚    â”‚
â”‚  â”‚ fraÃ§Ãµes (menores e maiores que  â”‚    â”‚
â”‚  â”‚ a unidade), associando-as ao    â”‚    â”‚
â”‚  â”‚ resultado de uma divisÃ£o...     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â˜ EF03MA08                      â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚ Resolver e elaborar problemas   â”‚    â”‚
â”‚  â”‚ de divisÃ£o de um nÃºmero natural â”‚    â”‚
â”‚  â”‚ por outro...                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  2 de 3 selecionadas                    â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â† Voltar â”‚ â”‚    Continuar â†’      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ETAPA 4: RESUMO E GERAÃ‡ÃƒO**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ•  Novo Plano                   4 de 4 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â—‹ â”â”â”â”â”â”â”â” â—‹ â”â”â”â”â”â”â”â”â” â—‹ â”â”â”â”â”â”â”â”â” â—   â”‚
â”‚  Turma      Tema       BNCC      Gerar  â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  ğŸ“‹ RESUMO DO SEU PLANO                 â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Ano:        3Âº Ano             â”‚    â”‚
â”‚  â”‚  Disciplina: MatemÃ¡tica         â”‚    â”‚
â”‚  â”‚  Tema:       IntroduÃ§Ã£o Ã s      â”‚    â”‚
â”‚  â”‚              fraÃ§Ãµes            â”‚    â”‚
â”‚  â”‚  DuraÃ§Ã£o:    2 aulas (100 min)  â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚  Habilidades BNCC:              â”‚    â”‚
â”‚  â”‚  â€¢ EF03MA09                     â”‚    â”‚
â”‚  â”‚  â€¢ EF03MA10                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  EstÃ¡ tudo certo?                       â”‚
â”‚                                         â”‚
â”‚  [âœï¸ Editar informaÃ§Ãµes]                â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚      âœ¨ Gerar Meu Plano         â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â±ï¸ Isso leva cerca de 30 segundos      â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**TELA DE GERAÃ‡ÃƒO (Loading)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚              â”‚  âœ¨ğŸ“   â”‚                â”‚
â”‚              â”‚   âŸ³    â”‚                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                         â”‚
â”‚        Criando seu plano de aula...     â”‚
â”‚                                         â”‚
â”‚        â”â”â”â”â”â”â”â”â”â”â”â”â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 65%      â”‚
â”‚                                         â”‚
â”‚        Buscando habilidades BNCC...     â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**TELA DE SUCESSO**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚                                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚              â”‚   ğŸ‰    â”‚                â”‚
â”‚              â”‚   ğŸ“    â”‚                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                         â”‚
â”‚         Plano criado com sucesso!       â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚  IntroduÃ§Ã£o Ã s FraÃ§Ãµes                  â”‚
â”‚  3Âº Ano Â· MatemÃ¡tica Â· 2 aulas          â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚      ğŸ“„ Baixar Word (.docx)     â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â”‚      ğŸ“‘ Baixar PDF              â”‚    â”‚
â”‚  â”‚                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚        [Criar outro plano]              â”‚
â”‚        [Ver meus planos]                â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Modelo de Dados

### 5.1 BNCC (Base Nacional)

**IMPORTANTE:** A BNCC Ã© a **"fonte de verdade"** armazenada como um "tabelÃ£o" para consultas da IA. Usa slugs ao invÃ©s de FKs rÃ­gidas para flexibilidade estrutural.

```prisma
model BnccSkill {
  id String @id @default(cuid())

  // CÃ³digo oficial BNCC (fonte de verdade)
  code String @unique // "EI03TS01", "EF05MA09", "EF67CI04"...

  // Etapa de ensino (slug do EducationLevel existente)
  educationLevelSlug String // "educacao-infantil" | "ensino-fundamental-1" | "ensino-fundamental-2"

  // ===== EDUCAÃ‡ÃƒO INFANTIL =====
  fieldOfExperience String? // "TraÃ§os, sons, cores e formas"
  ageRange String?          // "ei-criancas-pequenas" (slug do Grade)

  // ===== ENSINO FUNDAMENTAL =====
  gradeSlug String?         // "ef1-3-ano", "ef2-7-ano" (slug do Grade)
  subjectSlug String?       // "matematica", "historia" (slug do Subject)
  unitTheme String?         // "NÃºmeros", "Ãlgebra" (Unidade TemÃ¡tica)
  knowledgeObject String?   // "FraÃ§Ã£o", "Sistema de numeraÃ§Ã£o" (Objeto de Conhecimento)

  // Texto principal (obrigatÃ³rio)
  description String @db.Text // Texto completo da habilidade BNCC

  // ConteÃºdo auxiliar (se disponÃ­vel na planilha oficial)
  comments String? @db.Text
  curriculumSuggestions String? @db.Text

  // ===== BUSCA =====
  // Full-Text Search (PostgreSQL)
  searchVector Unsupported("tsvector")? // Gerado automaticamente por trigger SQL

  // Embeddings (opcional - para busca semÃ¢ntica futura)
  embedding Unsupported("vector(1536)")? // OpenAI text-embedding-3-small

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Ãndices para performance
  @@index([educationLevelSlug])
  @@index([gradeSlug])
  @@index([subjectSlug])
  @@index([code])
  @@index([searchVector], type: Gin)     // FTS
  @@index([embedding], type: IVFFlat)    // pgvector (opcional)

  @@map("bncc_skill")
}
```

**Por que usar slugs ao invÃ©s de FKs?**
1. **Flexibilidade**: EI tem estrutura diferente de EF (campos de experiÃªncia vs disciplinas)
2. **IA consulta texto**: A IA faz buscas textuais/semÃ¢nticas, nÃ£o precisa de JOINs
3. **ImportaÃ§Ã£o simples**: Mapeia direto da planilha BNCC sem lookups
4. **Denormalizado = rÃ¡pido**: Uma Ãºnica query traz tudo que a IA precisa

### 5.2 Planos de Aula

```prisma
model LessonPlan {
  id        String   @id @default(cuid())

  // Autor
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  // IdentificaÃ§Ã£o
  title              String   // "IntroduÃ§Ã£o Ã s FraÃ§Ãµes"
  educationLevelId   String   // FK para EducationLevel
  educationLevel     EducationLevel @relation(fields: [educationLevelId], references: [id])
  year               String   // "3" (3Âº ano) - extraÃ­do do cÃ³digo BNCC
  subjectId          String   // FK para Subject
  subject            Subject  @relation(fields: [subjectId], references: [id])
  duration           Int      // NÃºmero de aulas (1, 2, 3)

  // ConteÃºdo gerado pela IA (JSON estruturado - ver schema abaixo)
  content   Json     // LessonPlanContent (TypeScript interface abaixo)

  // Habilidades BNCC selecionadas
  skillCodes String[] // ["EF03MA09", "EF03MA10"] - referÃªncia aos cÃ³digos

  // Controle
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([userId, createdAt(sort: Desc)])
  @@index([educationLevelId, subjectId])
  @@map("lesson_plan")
}

// Controle de uso mensal (rate limiting)
model LessonPlanUsage {
  id        String   @id @default(cuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  yearMonth String   // "2026-01" (formato YYYY-MM)
  count     Int      @default(0)

  updatedAt DateTime @updatedAt

  @@unique([userId, yearMonth])
  @@index([userId, yearMonth])
  @@map("lesson_plan_usage")
}
```

### 5.3 Estrutura do JSON de ConteÃºdo

**Armazenado no campo `content` (Json) do LessonPlan**

```typescript
// TypeScript Interface (para uso no frontend/backend)
interface LessonPlanContent {
  // IdentificaÃ§Ã£o (redundante com DB, mas facilita exportaÃ§Ã£o standalone)
  identification: {
    title: string               // "IntroduÃ§Ã£o Ã s FraÃ§Ãµes"
    educationLevel: string      // "Fundamental - Anos Iniciais"
    year: string                // "3Âº Ano"
    subject: string             // "MatemÃ¡tica"
    duration: {
      lessons: number           // 2
      minutesPerLesson: number  // 50
      totalMinutes: number      // 100
    }
  }

  // Habilidades BNCC selecionadas (com detalhes completos)
  bnccSkills: Array<{
    code: string                // "EF03MA09"
    description: string         // Texto completo da habilidade
    thematicUnit: string        // "NÃºmeros"
    knowledgeObject: string     // "FraÃ§Ã£o"
  }>

  // Objetivos de aprendizagem (gerados pela IA)
  objectives: string[]          // ["Compreender o conceito de fraÃ§Ã£o...", ...]

  // Metodologia (sequÃªncia didÃ¡tica)
  methodology: Array<{
    phase: string               // "IntroduÃ§Ã£o" | "Desenvolvimento" | "Fechamento"
    duration: string            // "15 min"
    description: string         // DescriÃ§Ã£o geral da fase
    activities: string[]        // Lista de atividades especÃ­ficas
  }>

  // Recursos/Materiais necessÃ¡rios
  resources: string[]           // ["Folhas de papel", "Tesoura", ...]

  // AvaliaÃ§Ã£o
  assessment: {
    criteria: string[]          // ["Identifica fraÃ§Ãµes simples", ...]
    instruments: string[]       // ["ObservaÃ§Ã£o durante atividade", ...]
  }

  // Metadados de geraÃ§Ã£o
  metadata: {
    generatedAt: string         // ISO 8601 timestamp
    model: string               // "gpt-4o-mini"
    tokensUsed?: number         // Rastreamento de custo (opcional)
  }
}
```

**Zod Schema para ValidaÃ§Ã£o (backend)**

```typescript
// src/lib/schemas/lesson-plan.ts
import { z } from 'zod'

export const LessonPlanContentSchema = z.object({
  identification: z.object({
    title: z.string().min(3).max(200),
    educationLevel: z.string(),
    year: z.string(),
    subject: z.string(),
    duration: z.object({
      lessons: z.number().int().min(1).max(3),
      minutesPerLesson: z.number().int().min(30).max(120),
      totalMinutes: z.number().int()
    })
  }),

  bnccSkills: z.array(
    z.object({
      code: z.string().regex(/^[A-Z]{2}\d{2}[A-Z]{2}\d{2}$/), // Formato BNCC
      description: z.string(),
      thematicUnit: z.string(),
      knowledgeObject: z.string()
    })
  ).min(1).max(3), // 1 a 3 habilidades

  objectives: z.array(z.string()).min(2).max(6),

  methodology: z.array(
    z.object({
      phase: z.enum(['IntroduÃ§Ã£o', 'Desenvolvimento', 'Fechamento']),
      duration: z.string(),
      description: z.string(),
      activities: z.array(z.string())
    })
  ).min(3).max(10), // Pelo menos 3 fases

  resources: z.array(z.string()).min(1).max(20),

  assessment: z.object({
    criteria: z.array(z.string()).min(2).max(8),
    instruments: z.array(z.string()).min(1).max(5)
  }),

  metadata: z.object({
    generatedAt: z.string().datetime(),
    model: z.string(),
    tokensUsed: z.number().optional()
  })
})

export type LessonPlanContent = z.infer<typeof LessonPlanContentSchema>
```

---

## 6. API Endpoints

### 6.1 BNCC (Consulta)

```
GET /api/v1/bncc/education-levels
    Retorna etapas de ensino (reutiliza EducationLevel existente)

    Response: [
      { slug: "educacao-infantil", name: "EducaÃ§Ã£o Infantil", order: 1 },
      { slug: "ensino-fundamental-1", name: "Ensino Fundamental I", order: 2 },
      { slug: "ensino-fundamental-2", name: "Ensino Fundamental II", order: 3 }
    ]

GET /api/v1/bncc/grades?educationLevelSlug=ensino-fundamental-1
    Retorna anos/sÃ©ries por etapa (reutiliza Grade existente)

    Response: [
      { slug: "ef1-1-ano", name: "1Âº ano", order: 1 },
      { slug: "ef1-2-ano", name: "2Âº ano", order: 2 },
      { slug: "ef1-3-ano", name: "3Âº ano", order: 3 },
      ...
    ]

GET /api/v1/bncc/subjects?educationLevelSlug=ensino-fundamental-1&gradeSlug=ef1-3-ano
    Retorna disciplinas disponÃ­veis para o ano selecionado

    Response: [
      { slug: "matematica", name: "MatemÃ¡tica" },
      { slug: "lingua-portuguesa", name: "LÃ­ngua Portuguesa" },
      ...
    ]

GET /api/v1/bncc/skills?educationLevelSlug=ensino-fundamental-1&gradeSlug=ef1-3-ano&subjectSlug=matematica&q=fraÃ§Ãµes
    Busca habilidades BNCC com filtros + Full-Text Search

    Query params:
    - educationLevelSlug (required): Slug da etapa
    - gradeSlug (required): Slug do ano/sÃ©rie
    - subjectSlug (required): Slug da disciplina
    - q (optional): Termo de busca (usa FTS)

    Response: {
      skills: [
        {
          id: "cuid",
          code: "EF03MA09",
          description: "Associar o quociente de uma divisÃ£o com resto zero...",
          unitTheme: "NÃºmeros",
          knowledgeObject: "FraÃ§Ã£o",
          gradeSlug: "ef1-3-ano",
          subjectSlug: "matematica"
        }
      ]
    }
```

**ImplementaÃ§Ã£o da busca FTS (Full-Text Search):**

```typescript
// src/app/api/v1/bncc/skills/route.ts
import { prisma } from '@/lib/db'
import { Prisma } from '@/prisma/generated/prisma/client'

export async function GET(req: Request) {
  const { searchParams } = new URL(req.url)
  const educationLevelSlug = searchParams.get('educationLevelSlug')
  const gradeSlug = searchParams.get('gradeSlug')
  const subjectSlug = searchParams.get('subjectSlug')
  const query = searchParams.get('q') // Termo de busca (opcional)

  if (!educationLevelSlug || !gradeSlug || !subjectSlug) {
    return Response.json({ error: 'Missing required params' }, { status: 400 })
  }

  // Busca com Full-Text Search (PostgreSQL)
  const skills = await prisma.$queryRaw<Array<{
    id: string
    code: string
    description: string
    unitTheme: string | null
    knowledgeObject: string | null
    gradeSlug: string
    subjectSlug: string
    rank?: number
  }>>`
    SELECT
      id,
      code,
      description,
      unit_theme as "unitTheme",
      knowledge_object as "knowledgeObject",
      grade_slug as "gradeSlug",
      subject_slug as "subjectSlug"
      ${query ? Prisma.sql`, ts_rank(search_vector, websearch_to_tsquery('portuguese', ${query})) as rank` : Prisma.empty}
    FROM bncc_skill
    WHERE education_level_slug = ${educationLevelSlug}
      AND grade_slug = ${gradeSlug}
      AND subject_slug = ${subjectSlug}
      ${query ? Prisma.sql`AND search_vector @@ websearch_to_tsquery('portuguese', ${query})` : Prisma.empty}
    ORDER BY ${query ? Prisma.sql`rank DESC,` : Prisma.empty} code ASC
    LIMIT 50
  `

  return Response.json({ skills })
}
```

### 6.2 Planos de Aula

```
GET /api/v1/lesson-plans
    Lista planos do usuÃ¡rio (Ãºltimos 20, ordenados por criaÃ§Ã£o DESC)

    Response: {
      plans: [
        {
          id: "cuid",
          title: "IntroduÃ§Ã£o Ã s FraÃ§Ãµes",
          educationLevel: { name: "..." },
          year: "3",
          subject: { name: "MatemÃ¡tica" },
          duration: 2,
          skillCodes: ["EF03MA09", "EF03MA10"],
          createdAt: "2026-01-15T10:30:00Z"
        }
      ],
      usage: { used: 3, limit: 15, remaining: 12 }
    }

POST /api/v1/lesson-plans
    Cria novo plano com geraÃ§Ã£o via IA

    Headers: Authorization (session)

    Body: {
      educationLevelId: string
      year: string              // "3"
      subjectId: string
      title: string
      duration: number          // 1, 2 ou 3
      skillCodes: string[]      // ["EF03MA09", "EF03MA10"]
    }

    ValidaÃ§Ãµes:
    - UsuÃ¡rio deve ser subscriber ou admin
    - Limite mensal nÃ£o atingido (< 15)
    - 1 a 3 habilidades BNCC
    - Habilidades devem existir no banco
    - DuraÃ§Ã£o entre 1 e 3 aulas

    Response: {
      plan: {
        id: "cuid",
        title: "...",
        content: { ... }, // LessonPlanContent
        skillCodes: [...],
        createdAt: "..."
      },
      downloadUrls: {
        word: "/api/v1/lesson-plans/{id}/download?format=docx",
        pdf: "/api/v1/lesson-plans/{id}/download?format=pdf"
      }
    }

    Errors:
    - 401: NÃ£o autenticado
    - 403: NÃ£o Ã© assinante / Limite mensal atingido
    - 400: ValidaÃ§Ã£o falhou
    - 500: Erro na geraÃ§Ã£o com IA

GET /api/v1/lesson-plans/:id
    Retorna plano especÃ­fico (apenas do prÃ³prio usuÃ¡rio ou admin)

    Response: {
      plan: { id, title, content, ... }
    }

GET /api/v1/lesson-plans/:id/download?format=docx|pdf
    Gera e retorna arquivo para download

    Query params:
    - format: "docx" | "pdf"

    Headers:
    - Content-Disposition: attachment; filename="plano-fracoes.docx"
    - Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document

    Response: Binary file (Word ou PDF)

GET /api/v1/lesson-plans/usage
    Retorna uso do mÃªs atual do usuÃ¡rio

    Response: {
      yearMonth: "2026-01",
      used: 3,
      limit: 15,
      remaining: 12,
      resetsAt: "2026-02-01T00:00:00Z"
    }
```

---

## 7. GeraÃ§Ã£o com IA

### 7.1 Prompt de GeraÃ§Ã£o

```typescript
const systemPrompt = `VocÃª Ã© um especialista em pedagogia brasileira.
Crie planos de aula alinhados Ã  BNCC, prÃ¡ticos e aplicÃ¡veis em sala de aula.

Diretrizes:
- Use linguagem simples e direta
- Sugira atividades prÃ¡ticas e interativas
- Considere recursos comuns em escolas pÃºblicas
- Divida o tempo de forma realista
- Inclua momentos de avaliaÃ§Ã£o formativa`

const userPrompt = `Crie um plano de aula com as seguintes especificaÃ§Ãµes:

**IdentificaÃ§Ã£o:**
- Ano: ${year}
- Disciplina: ${subject}
- Tema: ${title}
- DuraÃ§Ã£o: ${duration} aula(s) de 50 minutos

**Habilidades BNCC a desenvolver:**
${skills.map(s => `- ${s.code}: ${s.description}`).join('\n')}

**Formato de resposta:**
Retorne um JSON vÃ¡lido com a estrutura especificada.`
```

### 7.2 ImplementaÃ§Ã£o

```typescript
// src/app/api/v1/lesson-plans/route.ts
import { generateObject } from 'ai'
import { openai } from '@ai-sdk/openai'
import { LessonPlanContentSchema } from '@/lib/schemas/lesson-plan'

export async function POST(req: Request) {
  const session = await auth.api.getSession({ headers: req.headers })
  if (!session?.user) return unauthorized()

  // Verificar se Ã© assinante
  if (session.user.role !== 'subscriber' && session.user.role !== 'admin') {
    return forbidden('Apenas assinantes podem criar planos')
  }

  // Verificar limite mensal
  const usage = await getLessonPlanUsage(session.user.id)
  if (usage.count >= 15) {
    return forbidden('Limite de 15 planos/mÃªs atingido')
  }

  const body = await req.json()
  const { yearId, subjectId, title, duration, skillCodes } = body

  // Buscar habilidades completas
  const skills = await prisma.bnccSkill.findMany({
    where: { code: { in: skillCodes } }
  })

  // Gerar plano com IA
  const { object: content } = await generateObject({
    model: openai('gpt-4o-mini'),
    schema: LessonPlanContentSchema,
    system: systemPrompt,
    prompt: buildPrompt({ yearId, subjectId, title, duration, skills })
  })

  // Salvar plano
  const plan = await prisma.lessonPlan.create({
    data: {
      userId: session.user.id,
      title,
      yearId,
      subjectId,
      duration,
      content,
      skillCodes
    }
  })

  // Incrementar uso
  await incrementUsage(session.user.id)

  return Response.json({ plan })
}
```

---

## 8. ExportaÃ§Ã£o

### 8.1 Word (.docx)

```typescript
// src/lib/export/word.ts
import { Document, Paragraph, TextRun, Table } from 'docx'

export function generateWordDocument(plan: LessonPlanContent): Buffer {
  const doc = new Document({
    sections: [{
      children: [
        // TÃ­tulo
        new Paragraph({
          children: [
            new TextRun({ text: 'PLANO DE AULA', bold: true, size: 28 })
          ],
          alignment: 'center'
        }),

        // IdentificaÃ§Ã£o
        createIdentificationTable(plan),

        // Habilidades BNCC
        new Paragraph({
          children: [
            new TextRun({ text: 'HABILIDADES BNCC', bold: true })
          ]
        }),
        ...plan.skills.map(s =>
          new Paragraph({ text: `â€¢ ${s.code}: ${s.description}` })
        ),

        // Objetivos
        // Metodologia
        // Recursos
        // AvaliaÃ§Ã£o
        // ...
      ]
    }]
  })

  return Packer.toBuffer(doc)
}
```

### 8.2 PDF

```typescript
// src/lib/export/pdf.ts
// OpÃ§Ã£o 1: Renderizar HTML para PDF com Puppeteer/Playwright
// OpÃ§Ã£o 2: Usar react-pdf para gerar diretamente

import { renderToBuffer } from '@react-pdf/renderer'
import { LessonPlanPDF } from './templates/LessonPlanPDF'

export async function generatePDF(plan: LessonPlanContent): Promise<Buffer> {
  return renderToBuffer(<LessonPlanPDF plan={plan} />)
}
```

---

## 9. Componentes React

### 9.1 Estrutura de Arquivos

```
src/
â”œâ”€â”€ app/(client)/lesson-plans/
â”‚   â”œâ”€â”€ page.tsx                    # Lista de planos + empty state
â”‚   â””â”€â”€ layout.tsx
â”‚
â”œâ”€â”€ components/client/lesson-plans/
â”‚   â”‚
â”‚   â”‚  # Wizard de criaÃ§Ã£o (com bifurcaÃ§Ã£o EI vs EF)
â”‚   â”œâ”€â”€ create-plan-drawer.tsx      # Drawer principal
â”‚   â”œâ”€â”€ wizard-steps.tsx            # Indicador de progresso
â”‚   â”œâ”€â”€ step-stage.tsx              # Etapa 1: Etapa de ensino
â”‚   â”‚
â”‚   â”‚  # BifurcaÃ§Ã£o: EI vs EF
â”‚   â”œâ”€â”€ step-ei-age-field.tsx       # Etapa 1A (EI): Faixa etÃ¡ria + Campo exp.
â”‚   â”œâ”€â”€ step-ef-grade-subject.tsx   # Etapa 1B (EF): Ano + Disciplina
â”‚   â”‚
â”‚   â”œâ”€â”€ step-theme.tsx              # Etapa 2: Tema + DuraÃ§Ã£o (comum)
â”‚   â”‚
â”‚   â”‚  # Etapa 3 (busca de habilidades - lÃ³gica diferente)
â”‚   â”œâ”€â”€ step-skills.tsx             # Etapa 3: SeleÃ§Ã£o BNCC (switch EI/EF)
â”‚   â”œâ”€â”€ skill-selector-ei.tsx       # Seletor para EI (fieldOfExperience)
â”‚   â”œâ”€â”€ skill-selector-ef.tsx       # Seletor para EF (gradeSlug + subjectSlug)
â”‚   â”‚
â”‚   â”œâ”€â”€ step-review.tsx             # Etapa 4: Resumo (comum)
â”‚   â”‚
â”‚   â”‚  # Componentes de UI
â”‚   â”œâ”€â”€ plan-card.tsx               # Card de plano na lista
â”‚   â”œâ”€â”€ plan-list.tsx               # Lista de planos
â”‚   â”œâ”€â”€ empty-state.tsx             # Estado vazio com CTA
â”‚   â”œâ”€â”€ usage-progress.tsx          # Barra de uso mensal
â”‚   â”œâ”€â”€ generating-state.tsx        # Tela de loading
â”‚   â””â”€â”€ success-state.tsx           # Tela de sucesso + downloads
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useLessonPlans.ts           # React Query - lista
â”‚   â”œâ”€â”€ useLessonPlanUsage.ts       # React Query - uso mensal
â”‚   â”œâ”€â”€ useBnccSkills.ts            # React Query - busca BNCC (com switch EI/EF)
â”‚   â””â”€â”€ useCreateLessonPlan.ts      # Mutation de criaÃ§Ã£o
â”‚
â””â”€â”€ services/lesson-plans/
    â”œâ”€â”€ list-plans.ts
    â”œâ”€â”€ create-plan.ts
    â”œâ”€â”€ generate-content.ts         # GeraÃ§Ã£o com IA
    â”œâ”€â”€ export-word.ts
    â””â”€â”€ export-pdf.ts
```

**âš ï¸ Nota sobre bifurcaÃ§Ã£o EI vs EF:**

O cÃ³digo do wizard precisa verificar `educationLevelSlug` para decidir qual fluxo seguir:

```typescript
// create-plan-drawer.tsx
const [educationLevelSlug, setEducationLevelSlug] = useState<string>()
const isEI = educationLevelSlug === 'educacao-infantil'

// Renderizar componentes diferentes
{currentStep === 1 && (
  isEI ? (
    <StepEiAgeField {...props} />  // Faixa etÃ¡ria + Campo de experiÃªncia
  ) : (
    <StepEfGradeSubject {...props} />  // Ano + Disciplina
  )
)}

// Hook de busca tambÃ©m precisa adaptar
// useBnccSkills.ts
const params = isEI
  ? { educationLevelSlug, ageRange, fieldOfExperience, q }
  : { educationLevelSlug, gradeSlug, subjectSlug, q }
```

---

## 10. ImportaÃ§Ã£o dos Dados da BNCC

### 10.1 Fonte Oficial

**URL:** [Base Nacional Comum Curricular - MEC](http://basenacionalcomum.mec.gov.br/)

**Formato recomendado:** Planilha Excel oficial do MEC contendo:
- CÃ³digos de habilidades (ex: EF03MA09, EI03TS01)
- DescriÃ§Ãµes completas
- Unidades temÃ¡ticas / Campos de experiÃªncia
- Objetos de conhecimento
- Etapas, anos e componentes curriculares

### 10.2 Estrutura da ImportaÃ§Ã£o

```typescript
// scripts/import-bncc.ts
import { prisma } from '@/lib/db'
import * as XLSX from 'xlsx'

interface BnccRow {
  codigo: string              // "EF03MA09" ou "EI03TS01"
  descricao: string           // Texto da habilidade
  etapa: string               // "EducaÃ§Ã£o Infantil", "Ensino Fundamental I", etc
  ano?: string                // "3Âº ano" (EF) ou "CrianÃ§as pequenas" (EI)
  componente?: string         // "MatemÃ¡tica" (EF) ou "TraÃ§os, sons..." (EI)
  unidadeTematica?: string    // "NÃºmeros" (apenas EF)
  objetoConhecimento?: string // "FraÃ§Ã£o" (apenas EF)
  comentarios?: string        // Campo auxiliar
  sugestoes?: string          // SugestÃµes curriculares
}

// Mapeamento de nomes legÃ­veis para slugs
const educationLevelMap: Record<string, string> = {
  'EducaÃ§Ã£o Infantil': 'educacao-infantil',
  'Ensino Fundamental I': 'ensino-fundamental-1',
  'Ensino Fundamental II': 'ensino-fundamental-2',
}

const gradeMap: Record<string, string> = {
  '1Âº ano': 'ef1-1-ano',
  '2Âº ano': 'ef1-2-ano',
  '3Âº ano': 'ef1-3-ano',
  // ... completar
  'BebÃªs': 'ei-bebes',
  'CrianÃ§as bem pequenas': 'ei-criancas-bem-pequenas',
  'CrianÃ§as pequenas': 'ei-criancas-pequenas',
}

const subjectMap: Record<string, string> = {
  'MatemÃ¡tica': 'matematica',
  'LÃ­ngua Portuguesa': 'lingua-portuguesa',
  'O eu, o outro e o nÃ³s': 'ei-o-eu-o-outro-e-o-nos',
  // ... completar
}

async function importBncc() {
  console.log('ğŸ“š Importando habilidades BNCC...')

  // 1. Ler planilha Excel
  const workbook = XLSX.readFile('./data/bncc-oficial.xlsx')
  const sheet = workbook.Sheets['Habilidades']
  const rows: BnccRow[] = XLSX.utils.sheet_to_json(sheet)

  let imported = 0
  let skipped = 0

  // 2. Para cada linha da planilha
  for (const row of rows) {
    try {
      // Mapear para slugs
      const educationLevelSlug = educationLevelMap[row.etapa]
      const gradeSlug = row.ano ? gradeMap[row.ano] : null
      const subjectSlug = row.componente ? subjectMap[row.componente] : null

      if (!educationLevelSlug) {
        console.warn(`âš ï¸  Etapa desconhecida: ${row.etapa}`)
        skipped++
        continue
      }

      // Detectar se Ã© EI ou EF pelo cÃ³digo
      const isEI = row.codigo.startsWith('EI')

      // Criar habilidade BNCC
      await prisma.bnccSkill.upsert({
        where: { code: row.codigo },
        update: {
          description: row.descricao,
          comments: row.comentarios,
          curriculumSuggestions: row.sugestoes,
        },
        create: {
          code: row.codigo,
          description: row.descricao,
          educationLevelSlug,

          // Campos especÃ­ficos de EI
          fieldOfExperience: isEI ? row.componente : null,
          ageRange: isEI ? gradeSlug : null,

          // Campos especÃ­ficos de EF
          gradeSlug: !isEI ? gradeSlug : null,
          subjectSlug: !isEI ? subjectSlug : null,
          unitTheme: row.unidadeTematica,
          knowledgeObject: row.objetoConhecimento,

          // Auxiliares
          comments: row.comentarios,
          curriculumSuggestions: row.sugestoes,

          // search_vector serÃ¡ criado automaticamente pelo trigger SQL
        },
      })

      imported++
    } catch (error) {
      console.error(`âŒ Erro ao importar ${row.codigo}:`, error)
      skipped++
    }
  }

  console.log(`âœ… ImportaÃ§Ã£o concluÃ­da: ${imported} habilidades, ${skipped} puladas`)
}

importBncc()
```

### 10.3 Habilitando pgvector no Neon Database

**O Neon suporta pgvector nativamente!** Basta executar no SQL Editor:

```sql
-- 1. Habilitar extensÃ£o pgvector
CREATE EXTENSION IF NOT EXISTS vector;

-- 2. Verificar se foi instalada
SELECT * FROM pg_extension WHERE extname = 'vector';
```

**Onde executar:**
1. Acesse [Neon Console](https://console.neon.tech)
2. Selecione seu projeto
3. VÃ¡ em **SQL Editor**
4. Execute o comando acima
5. âœ… Pronto! Agora vocÃª pode usar o tipo `vector` no Prisma

---

### 10.4 Full-Text Search (PostgreSQL)

**Criar trigger para atualizar `search_vector` automaticamente:**

```sql
-- Migration: create_bncc_search_trigger.sql

-- FunÃ§Ã£o de trigger para FTS
CREATE OR REPLACE FUNCTION update_bncc_search_vector()
RETURNS TRIGGER AS $$
BEGIN
  NEW.search_vector := to_tsvector('portuguese',
    coalesce(NEW.code, '') || ' ' ||
    coalesce(NEW.description, '') || ' ' ||
    coalesce(NEW.unit_theme, '') || ' ' ||
    coalesce(NEW.knowledge_object, '') || ' ' ||
    coalesce(NEW.field_of_experience, '')
  );
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- Trigger executado ANTES de INSERT/UPDATE
CREATE TRIGGER bncc_skill_search_vector_update
  BEFORE INSERT OR UPDATE ON bncc_skill
  FOR EACH ROW
  EXECUTE FUNCTION update_bncc_search_vector();

-- Atualizar registros existentes (caso jÃ¡ tenha importado dados)
UPDATE bncc_skill SET updated_at = NOW();
```

**Como aplicar:**
1. Crie uma migration Prisma: `npx prisma migrate dev --name add_bncc_search_trigger`
2. Cole o SQL acima no arquivo de migration gerado
3. Execute: `npx prisma migrate deploy`

### 10.5 ValidaÃ§Ã£o PÃ³s-ImportaÃ§Ã£o

```typescript
// scripts/validate-bncc.ts
import { prisma } from '@/lib/db'

async function validateBncc() {
  console.log('ğŸ” Validando importaÃ§Ã£o BNCC...\n')

  // 1. Contar habilidades por etapa
  const countsByLevel = await prisma.$queryRaw<Array<{
    educationLevelSlug: string
    total: number
  }>>`
    SELECT
      education_level_slug as "educationLevelSlug",
      COUNT(*) as total
    FROM bncc_skill
    GROUP BY education_level_slug
    ORDER BY education_level_slug
  `

  console.log('ğŸ“Š Habilidades por etapa:')
  console.table(countsByLevel)

  // 2. Contar habilidades por grade
  const countsByGrade = await prisma.$queryRaw<Array<{
    gradeSlug: string
    total: number
  }>>`
    SELECT
      grade_slug as "gradeSlug",
      COUNT(*) as total
    FROM bncc_skill
    WHERE grade_slug IS NOT NULL
    GROUP BY grade_slug
    ORDER BY grade_slug
  `

  console.log('\nğŸ“š Habilidades por ano/sÃ©rie:')
  console.table(countsByGrade)

  // 3. Verificar habilidades sem search_vector
  const withoutFTS = await prisma.bnccSkill.count({
    where: { searchVector: null }
  })

  if (withoutFTS > 0) {
    console.error(`\nâš ï¸  ${withoutFTS} habilidades SEM search_vector (trigger nÃ£o funcionou!)`)
  } else {
    console.log('\nâœ… Todas as habilidades tÃªm search_vector')
  }

  // 4. Testar busca FTS
  console.log('\nğŸ” Testando Full-Text Search...')
  const testResults = await prisma.$queryRaw<Array<{
    code: string
    description: string
  }>>`
    SELECT code, LEFT(description, 60) as description
    FROM bncc_skill
    WHERE search_vector @@ websearch_to_tsquery('portuguese', 'fraÃ§Ã£o')
    LIMIT 3
  `

  console.log('Resultados para "fraÃ§Ã£o":')
  console.table(testResults)

  console.log('\nâœ… ValidaÃ§Ã£o concluÃ­da!')
}

validateBncc()
```

---

## 11. Fases de ImplementaÃ§Ã£o

> **DependÃªncias:** Ver [PRD-00: Infraestrutura](./00-INFRASTRUCTURE-DEPENDENCIES.md)

### Fase 1: Base BNCC (1-2 dias)
- [ ] Baixar planilha oficial BNCC do MEC
- [ ] Criar migration: schema BnccSkill
- [ ] Criar migration: trigger FTS (search_vector)
- [ ] Criar script: `scripts/import-bncc.ts`
- [ ] Criar script: `scripts/validate-bncc.ts`
- [ ] Executar importaÃ§Ã£o
- [ ] Validar dados (contar por etapa/disciplina)
- [ ] APIs de consulta BNCC:
  - [ ] GET /api/v1/bncc/education-levels
  - [ ] GET /api/v1/bncc/subjects
  - [ ] GET /api/v1/bncc/skills (com FTS)

### Fase 2: Schema e Controle de Uso (1 dia)
- [ ] Criar migration: LessonPlan model
- [ ] Criar migration: LessonPlanUsage model
- [ ] Criar Zod schema: LessonPlanContentSchema
- [ ] Criar service: `getLessonPlanUsage(userId)`
- [ ] Criar service: `incrementUsage(userId)`
- [ ] API: GET /api/v1/lesson-plans/usage

### Fase 3: GeraÃ§Ã£o com IA (2-3 dias)
- [ ] Instalar Vercel AI SDK (`ai`, `@ai-sdk/openai`)
- [ ] Configurar OPENAI_API_KEY no .env
- [ ] Criar prompts: `lib/ai/prompts/lesson-plan.ts`
- [ ] Criar service: `generateLessonPlan()`
- [ ] API: POST /api/v1/lesson-plans
  - [ ] ValidaÃ§Ã£o de assinante
  - [ ] VerificaÃ§Ã£o de limite mensal
  - [ ] Buscar habilidades BNCC completas
  - [ ] Gerar com IA (generateObject)
  - [ ] Salvar no banco
  - [ ] Incrementar usage
- [ ] Testar com dados reais

### Fase 4: Wizard UI (3-4 dias)
- [ ] Componente: `create-plan-drawer.tsx` (Vaul)
- [ ] Componente: `wizard-steps.tsx` (indicador progresso)
- [ ] Step 1: SeleÃ§Ã£o de etapa/ano/disciplina
  - [ ] `step-stage.tsx`
  - [ ] `step-year-subject.tsx`
- [ ] Step 2: Tema e duraÃ§Ã£o
  - [ ] `step-theme.tsx`
- [ ] Step 3: SeleÃ§Ã£o de habilidades BNCC
  - [ ] `step-skills.tsx`
  - [ ] `skill-selector.tsx` (com busca FTS)
- [ ] Step 4: RevisÃ£o e geraÃ§Ã£o
  - [ ] `step-review.tsx`
  - [ ] `generating-state.tsx` (loading)
  - [ ] `success-state.tsx` (sucesso + downloads)
- [ ] Hook: `useCreateLessonPlan()` (React Query mutation)
- [ ] Hook: `useBnccSkills()` (busca com debounce)
- [ ] Testar wizard completo

### Fase 5: ExportaÃ§Ã£o (2-3 dias)
- [ ] Instalar dependÃªncias:
  - [ ] `docx` (Word)
  - [ ] `@react-pdf/renderer` (PDF)
- [ ] Criar template: `lib/export/word-template.ts`
- [ ] Criar template: `lib/export/pdf-template.tsx`
- [ ] Service: `exportToWord(plan)`
- [ ] Service: `exportToPdf(plan)`
- [ ] API: GET /api/v1/lesson-plans/:id/download
  - [ ] Validar ownership
  - [ ] Gerar arquivo (Word ou PDF)
  - [ ] Retornar com headers corretos
- [ ] Testar downloads

### Fase 6: Lista e HistÃ³rico (2 dias)
- [ ] PÃ¡gina: `app/(client)/lesson-plans/page.tsx`
- [ ] Componente: `plan-list.tsx`
- [ ] Componente: `plan-card.tsx`
- [ ] Componente: `empty-state.tsx`
- [ ] Componente: `usage-progress.tsx` (barra X/15)
- [ ] API: GET /api/v1/lesson-plans (lista com paginaÃ§Ã£o)
- [ ] API: GET /api/v1/lesson-plans/:id
- [ ] Hook: `useLessonPlans()`
- [ ] Hook: `useLessonPlanUsage()`
- [ ] Re-download de planos antigos
- [ ] Testar lista vazia + com dados

### Fase 7: Polimento e OtimizaÃ§Ãµes (1-2 dias)
- [ ] Otimizar prompts (testar qualidade dos planos)
- [ ] Adicionar loading states em todos os steps
- [ ] ValidaÃ§Ã£o de formulÃ¡rios (Zod)
- [ ] Mensagens de erro amigÃ¡veis
- [ ] Feedback de sucesso (toast/confetti?)
- [ ] Responsividade mobile (80% do trÃ¡fego)
- [ ] Testes end-to-end (Playwright?)
- [ ] Monitoramento de custos (log de tokens)

---

## 12. MÃ©tricas de Sucesso

| MÃ©trica | Meta MÃªs 1 | Meta MÃªs 3 |
|---------|------------|------------|
| % assinantes que usam | 40% | 60% |
| Planos criados/mÃªs | 500 | 2.000 |
| Taxa de download | 90% | 95% |
| Planos/usuÃ¡rio/mÃªs | 4 | 8 |
| Custo mÃ©dio/usuÃ¡rio | $0.005 | $0.010 |

**Indicadores de qualidade:**
- Planos baixados vs criados (sucesso se > 90%)
- UsuÃ¡rios que criam 2+ planos (retenÃ§Ã£o)
- Feedback qualitativo (pesquisa pÃ³s-geraÃ§Ã£o)

---

## 13. Riscos e MitigaÃ§Ãµes

| Risco | Probabilidade | Impacto | MitigaÃ§Ã£o |
|-------|---------------|---------|-----------|
| Plano genÃ©rico demais | MÃ©dia | Alto | Prompt detalhado + habilidades especÃ­ficas + testes com professoras reais |
| Professora nÃ£o entende wizard | MÃ©dia | Alto | UX ultra-simples, uma pergunta por vez, testes de usabilidade |
| Habilidade BNCC errada | Baixa | Alto | Professora seleciona manualmente (nÃ£o IA sugere) |
| Custo de IA alto | Baixa | MÃ©dio | Limite de 15/mÃªs, gpt-4o-mini, monitoramento de tokens |
| Dados BNCC desatualizados | Baixa | MÃ©dio | Usar fonte oficial MEC, script de re-importaÃ§Ã£o |
| ExportaÃ§Ã£o nÃ£o abre na escola | MÃ©dia | Alto | Testar com Word/Google Docs reais, formato .docx padrÃ£o |

---

## 14. FAQ

**P: Por que nÃ£o usar chat conversacional?**
R: Professoras tÃªm dificuldade com tecnologia. Wizard com botÃµes Ã© mais rÃ¡pido e menos propenso a erros.

**P: Por que a professora seleciona as habilidades BNCC?**
R: DÃ¡ controle e auditabilidade. Coordenador nÃ£o questiona "a IA escolheu errado".

**P: Por que limite de 15 planos/mÃªs?**
R: Suficiente para uso real (~1 plano/dia Ãºtil), custo baixo ($0.02/usuÃ¡rio), evita abuso.

**P: E se a professora precisar de mais?**
R: Pode ser upsell futuro (plano premium com mais planos).

**P: Funciona para EducaÃ§Ã£o Infantil?**
R: Sim, mas usa "Campos de ExperiÃªncia" ao invÃ©s de disciplinas (conforme BNCC).

**P: Como garantir que a IA gera planos de qualidade?**
R: Prompts especÃ­ficos + habilidades BNCC selecionadas + testes com professoras reais + iteraÃ§Ã£o dos prompts.

**P: E se a BNCC mudar?**
R: Script de re-importaÃ§Ã£o jÃ¡ contempla isso. Basta baixar nova planilha do MEC e executar `npm run import:bncc`.
