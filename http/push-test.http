@host = https://app.kadernim.com.br
@apiKey = {{$dotenv WEBHOOK_API_KEY}}

### Verificar dispositivos registrados (Exige Admin logado no navegador)
GET {{host}}/api/v1/notifications/test-push HTTP/1.1

### 1. Enviar push APENAS para ADMINS (Recomendado para testes em produ√ß√£o)
POST {{host}}/api/v1/notifications/test-push HTTP/1.1
x-api-key: {{apiKey}}
Content-Type: application/json

{
  "role": "admin",
  "title": "Teste para Admins üëë",
  "body": "Se voc√™ √© admin e recebeu isso, a segmenta√ß√£o por role funcionou!",
  "url": "/admin",
  "icon": "zap"
}

### 2. Enviar push para a LP de Vendas (Para TODOS os usu√°rios ativos)
POST {{host}}/api/v1/notifications/test-push HTTP/1.1
x-api-key: {{apiKey}}
Content-Type: application/json

{
  "title": "Conhe√ßa nossos planos! ‚ú®",
  "body": "Clique para conferir as melhores op√ß√µes para sua carreira.",
  "url": "/plans",
  "icon": "sparkles"
}

### 3. Enviar push APENAS PARA UM USU√ÅRIO (Troque o ID abaixo pelo seu)
POST {{host}}/api/v1/notifications/test-push HTTP/1.1
x-api-key: {{apiKey}}
Content-Type: application/json

{
  "userId": "SUBSTITUA_PELO_SEU_USER_ID", 
  "title": "Teste Individual! üéØ",
  "body": "Esta notifica√ß√£o deve chegar apenas no seu aparelho.",
  "url": "/admin",
  "icon": "bell"
}
